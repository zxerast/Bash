# Семестровая работа 1: Создание интерпретатора командной строки (`shell`)

## Описание

В рамках данной семестровой работы необходимо разработать собственный интерпретатор командной строки (shell) для Unix-подобных операционных систем. Основная цель проекта — закрепить знания и навыки работы с системными вызовами, связанные с управлением процессами, вводом-выводом, сигналами и окружением. Реализация должна поддерживать выполнение простых команд, перенаправление ввода-вывода, конвейеры (pipes), встроенные команды и управление задачами (job control).

## Цели и задачи

- Понять модель процессов в Unix-подобных системах: `fork/exec`, группы/сессии, ожидание (`wait*`), сигналы
- Освоить низкоуровневый ввод-вывод: `dup2/pipe`, перенаправление потоков
- Понять концепт управление задачами (job control): `foreground/background`, обработка `SIGCHLD`, проброс сигналов
- Закрепить работу с окружением: `getenv/setenv`, `PATH`, переменные среды
- Практика проектирование `CLI`-приложений: парсинг, архитектура модулей, обработка ошибок, тестирование

## Требования к выполнению

### Базовые требования
- REPL-интерфейс для ввода команд: интерактивный цикл чтения команд, корректный выход по `EOF` (Ctrl+D) или команде `exit` (Выполнено)
- Печать приглашения (prompt) в следующем формате: `username@hostname:current_directory$ ` (Выполнено)
- Поддержка комментариев: игнорирование текста после `#` (Выполнено)
- Поддержка строк в кавычках (одинарных и двойных) с учётом экранирования символов (Выполнено)
- Разбиение введённой строки на лексемы (токены) и дальнейший парсинг во внутреннее представление команды (например, дерево команд)
- Поддержка выполнения простых команд с аргументами, например: `ls -l /home`
- Поддержка перенаправления ввода-вывода: `>`, `>>`, `<`, `&>`, `&>>`
- Поддержка конвейеров (pipes): `|` и `|&`
- Поддержка списков команд, разделённых `;`, `&&`, `||`, `&`
- Реализация встроенных команд: `cd`, `pwd`, `help`, `echo`, `exit`
- Поддержка управления задачами (job control): запуск задач в фоне (`&`), переключение между задачами, обработка сигналов `SIGCHLD`,
встроенные команды `jobs`, `fg`, `bg`, `kill`
- Корректная обработка ошибок: синтаксические ошибки, ошибки выполнения команд, некорректные аргументы встроенных команд и т.д.
- Корректное использование ресурсов: освобождение памяти, закрытие файловых дескрипторов

### Дополнительные требования (опционально)
- Редактирование командной строки
  - Поддержка клавиш навигации (стрелки влево/вправо)
  - Удаление символов (Backspace, Delete)
  - Комбинации клавиш (Ctrl+A, Ctrl+E, Ctrl+U, Ctrl+K и др.)
- История команд
  - Сохранение истории команд в файле (например, `~/.my_shell_history`)
  - Навигация по истории (стрелки вверх/вниз)
  - Встроенная команда `history`
- Автодополнение команд и файлов (Tab)
  - Дополнение имен команд или файлов при нажатии Tab (с учётом `PATH` и текущего каталога)
  - Предложение вариантов при неоднозначности
- Переменные окружения
  - Установка: `set VAR=value`
  - Просмотр: `echo $VAR`
  - Удаление: `unset VAR`
  - Специальные переменные: `$?`, `$$`, `$!`
- Многострочные команды
  - Поддержка продолжения команды на следующей строке с помощью `\`
  - Предложение продолжения ввода (например, `> `) при незавершённой команде

### Требования к обработке ошибок

Программа должна корректно обрабатывать ошибки на всех этапах:
- Лексический анализ: некорректные символы, незакрытые кавычки (Выполнено)
- Синтаксический анализ: неправильный порядок токенов, отсутствующие аргументы
- Выполнение команд: несуществующие команды, ошибки доступа, ошибки ввода-вывода
- Системные ошибки: ошибки при создании процессов, открытии файлов, выделении памяти
- Встроенные команды: некорректные аргументы, ошибки выполнения

### Требования к оформлению и организации кода

- Код должен быть написан на языке C 
- Соблюдение стиля кодирования: отступы, именование переменных и функций, комментарии
- Разделение на модули: логическое разделение функционала по файлам
- Наличие файла сборки (Makefile)
- Размещение кода в системе контроля версий (например, Git)
- Документирование кода: комментарии к функциям, описание структуры данных и т.д.
- Наличие тестов: юнит-тесты для ключевых функций, сценарии тестирования основных возможностей
- Небольшой файл README с описанием проекта, инструкциями по сборке и использованию

## Критерии оценки

Работа считается выполненной, если удовлетворены следующие критерии:
- Все базовые требования реализованы и работают корректно
- Код компилируется без ошибок и предупреждений
- Все ресурсы корректно освобождаются
- Корректная обработка ошибок на всех этапах
- Код структурирован, читаем и документирован
- Код размещён в системе контроля версий
- Наличие файла сборки (Makefile)
- Наличие тестов и сценариев тестирования

- Выполнено минимум два дополнительных требования
